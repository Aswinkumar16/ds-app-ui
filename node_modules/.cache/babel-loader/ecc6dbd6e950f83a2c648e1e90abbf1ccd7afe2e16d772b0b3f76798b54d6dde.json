{"ast":null,"code":"import _objectSpread from\"C:/Users/HP/Desktop/ASWIN/datasci-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/HP/Desktop/ASWIN/datasci-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./index.css';import{UploadOutlined}from'@ant-design/icons';import{Button,message,Upload}from'antd';import{Card,Modal,Row,Col}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FileUploadWithIcon=function FileUploadWithIcon(_ref){var onResponse=_ref.onResponse;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),fileList=_useState2[0],setFileList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),uploading=_useState4[0],setUploading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),previewVisible=_useState8[0],setPreviewVisible=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),previewImage=_useState10[0],setPreviewImage=_useState10[1];var NamesTitles=[\"HeatMap\",\"Feature Importance\",\"Shap Summary Plot\"];var handleUpload=function handleUpload(){if(fileList.length===0){return;// Don't proceed if no file is selected\n}var formData=new FormData();formData.append('file',fileList[0]);// Only append the first file\nsetUploading(true);// You can use any AJAX library you like\nfetch(\"\".concat(process.env.REACT_APP_FLASK_API_PATH),{method:'POST',body:formData}).then(function(response){return response.json();}).then(function(jsonData){return setData(jsonData);}).then(function(){setFileList([]);message.success('Data Processed.');}).catch(function(){message.error('Data Processed Failed.');}).finally(function(){setUploading(false);});};var handlePreview=function handlePreview(image){setPreviewVisible(true);setPreviewImage(image);};var handleClosePreview=function handleClosePreview(){setPreviewVisible(false);};var props={onRemove:function onRemove(){setFileList([]);// Clear the fileList on removal\n},beforeUpload:function beforeUpload(file){setFileList([file]);// Replace fileList with the selected file\nreturn false;},fileList:fileList};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inner-upbox\",children:[/*#__PURE__*/_jsx(Upload,_objectSpread(_objectSpread({},props),{},{maxCount:1,children:/*#__PURE__*/_jsx(Button,{icon:/*#__PURE__*/_jsx(UploadOutlined,{}),children:\"Select File\"})})),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:handleUpload,disabled:fileList.length===0||uploading,loading:uploading,style:{marginTop:16},children:uploading?'Uploading':'Start Upload'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"down-container\",children:data.map(function(cards,index){return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2-center\",style:{backgroundColor:'lightgrey',padding:'10px'},children:NamesTitles[index]}),/*#__PURE__*/_jsx(Row,{gutter:16,className:\"rowtop\",children:cards.map(function(card,inx){return/*#__PURE__*/_jsx(Col,{span:8,children:/*#__PURE__*/_jsx(Card,{title:card.title,bordered:false,style:{width:'100%',backgroundColor:'lightgreen',textAlign:'center'},cover:/*#__PURE__*/_jsx(\"img\",{alt:card.title,src:\"data:image/png;base64,\".concat(card.image)}),onClick:function onClick(){return handlePreview(\"data:image/png;base64,\".concat(card.image));}})},inx);})})]},index);})}),/*#__PURE__*/_jsx(Modal,{visible:previewVisible,title:null,footer:null,onCancel:handleClosePreview,centered:true,width:800,bodyStyle:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{alt:\"Preview\",src:previewImage,style:{maxWidth:'100%',maxHeight:'80vh'}})})]});};export default FileUploadWithIcon;","map":{"version":3,"names":["React","useState","UploadOutlined","Button","message","Upload","Card","Modal","Row","Col","jsx","_jsx","jsxs","_jsxs","FileUploadWithIcon","_ref","onResponse","_useState","_useState2","_slicedToArray","fileList","setFileList","_useState3","_useState4","uploading","setUploading","_useState5","_useState6","data","setData","_useState7","_useState8","previewVisible","setPreviewVisible","_useState9","_useState10","previewImage","setPreviewImage","NamesTitles","handleUpload","length","formData","FormData","append","fetch","concat","process","env","REACT_APP_FLASK_API_PATH","method","body","then","response","json","jsonData","success","catch","error","finally","handlePreview","image","handleClosePreview","props","onRemove","beforeUpload","file","children","className","_objectSpread","maxCount","icon","type","onClick","disabled","loading","style","marginTop","map","cards","index","backgroundColor","padding","gutter","card","inx","span","title","bordered","width","textAlign","cover","alt","src","visible","footer","onCancel","centered","bodyStyle","maxWidth","maxHeight"],"sources":["C:/Users/HP/Desktop/ASWIN/datasci-ui/src/FileUploadWithIcon.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './index.css';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport { Button, message, Upload } from 'antd';\r\nimport { Card, Modal,Row,Col } from 'antd';\r\n\r\nconst FileUploadWithIcon = ({ onResponse }) => {\r\n  const [fileList, setFileList] = useState([]);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n\r\n  const NamesTitles = [\"HeatMap\",\"Feature Importance\",\"Shap Summary Plot\"]\r\n  const handleUpload = () => {\r\n    if (fileList.length === 0) {\r\n      return; // Don't proceed if no file is selected\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', fileList[0]); // Only append the first file\r\n    setUploading(true);\r\n\r\n    // You can use any AJAX library you like\r\n    fetch(`${process.env.REACT_APP_FLASK_API_PATH}`, {\r\n      method: 'POST',\r\n      body: formData,\r\n    })\r\n      .then((response) => response.json())\r\n      .then((jsonData) => setData(jsonData))\r\n\r\n      .then(() => {\r\n        setFileList([]);\r\n        message.success('Data Processed.');\r\n      })\r\n      .catch(() => {\r\n        message.error('Data Processed Failed.');\r\n      })\r\n      .finally(() => {\r\n        setUploading(false);\r\n      });\r\n  };\r\n  const handlePreview = (image) => {\r\n    setPreviewVisible(true);\r\n    setPreviewImage(image);\r\n  };\r\n\r\n  \r\n\r\n  const handleClosePreview = () => {\r\n    setPreviewVisible(false);\r\n  };\r\n  const props = {\r\n    onRemove: () => {\r\n      setFileList([]); // Clear the fileList on removal\r\n    },\r\n    beforeUpload: (file) => {\r\n      setFileList([file]); // Replace fileList with the selected file\r\n      return false;\r\n    },\r\n    fileList,\r\n  };\r\n\r\n  return (\r\n    <div>\r\n    <div className='inner-upbox'>\r\n      <Upload {...props} maxCount={1}>\r\n        <Button icon={<UploadOutlined />}>Select File</Button>\r\n      </Upload>\r\n      <Button\r\n        type=\"primary\"\r\n        onClick={handleUpload}\r\n        disabled={fileList.length === 0 || uploading}\r\n        loading={uploading}\r\n        style={{\r\n          marginTop: 16,\r\n        }}\r\n      >\r\n        {uploading ? 'Uploading' : 'Start Upload'}\r\n      </Button>\r\n    </div>\r\n    \r\n    <div className='down-container'>\r\n        {data.map((cards,index) => (\r\n            <div key={index} style={{marginTop:'10px'}}>\r\n              <h2 className='h2-center' style={{ backgroundColor: 'lightgrey', padding: '10px' }}>{NamesTitles[index]}</h2>\r\n              <Row gutter={16} className='rowtop'>\r\n              { cards.map((card,inx)=> (\r\n                <Col key={inx} span={8} >\r\n                  <Card\r\n                  title={card.title}\r\n                  bordered={false}\r\n                  style={{ width: '100%',backgroundColor: 'lightgreen' ,textAlign:'center'}}\r\n                  cover={<img alt={card.title} src={`data:image/png;base64,${card.image}`} />}\r\n                  onClick={() => handlePreview(`data:image/png;base64,${card.image}`)}\r\n                />\r\n                </Col>\r\n                ))}\r\n              \r\n          </Row>\r\n        \r\n            </div>\r\n            \r\n        ))}\r\n    </div>\r\n    <Modal\r\n      visible={previewVisible}\r\n      title={null}\r\n      footer={null}\r\n      onCancel={handleClosePreview}\r\n      centered\r\n      width={800}\r\n      bodyStyle={{ textAlign: 'center' }}\r\n    >\r\n      <img alt=\"Preview\" src={previewImage} style={{ maxWidth: '100%', maxHeight: '80vh' }} />\r\n    </Modal>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUploadWithIcon;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}